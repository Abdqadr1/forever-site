{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Desktop/Programs/forever-site/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/HP/Desktop/Programs/forever-site/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/HP/Desktop/Programs/forever-site/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/HP/Desktop/Programs/forever-site/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/HP/Desktop/Programs/forever-site/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import expand_more from'../images/expand_more.png';import expand_less from'../images/expand_less.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Order=/*#__PURE__*/function(_Component){_inherits(Order,_Component);var _super=_createSuper(Order);function Order(){var _this;_classCallCheck(this,Order);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=_objectSpread(_objectSpread({},_this.props.order),{},{isClosed:true});_this.handleClick=function(){_this.setState({isClosed:!_this.state.isClosed});};_this.callApi=function(id,action){if(action===\"mark_read\"){fetch(\"/orders/read/\"+id,{method:'PUT',headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(data){return console.log(data);}).catch(function(err){return console.log(err);});}if(action===\"delete\"){fetch(\"/orders/\"+id,{method:'DELETE',headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(data){return console.log(data);}).catch(function(err){return console.log(err);});}};_this.toggleRead=function(){// update the json file\n_this.callApi(_this.state.id,\"mark_read\");_this.props.toggleRead(_this.state.id);};_this.handleTrash=function(){_this.callApi(_this.state.id,\"delete\");_this.props.trash(_this.state.id);};_this.restore=function(){fetch('/orders/restore/'+_this.state.id,{method:\"delete\",headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(data){return console.log(data);}).catch(function(err){return console.log(err);});_this.props.restore(_this.state.id);};_this.handleDelete=function(){fetch('/orders/delete/'+_this.state.id,{method:\"delete\",headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(data){return console.log(data);}).catch(function(err){return console.log(err);});_this.props.delete(_this.state.id);};return _this;}_createClass(Order,[{key:\"render\",value:function render(){var isTrash=this.props.filter===3;return/*#__PURE__*/_jsxs(\"div\",{className:(this.props.order.read?\"order read \":\"order unread \")+this.props.class,children:[/*#__PURE__*/_jsxs(\"p\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"key\",children:\"NAME:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:this.state.name}),/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:this.state.isClosed?expand_more:expand_less,onClick:this.handleClick})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"action\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"action blue-text\",onClick:isTrash?this.restore:this.toggleRead,children:[\" \",isTrash?\"Restore\":this.state.read?\"Mark Unread\":\"Mark read\"]}),/*#__PURE__*/_jsx(\"span\",{onClick:isTrash?this.handleDelete:this.handleTrash,className:\"action red-text\",children:isTrash?\"Delete Permanently\":\"Delete\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:this.state.isClosed?\"hidden\":\"shown\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"key\",children:\"ADDRESS:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:this.state.address})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"key\",children:\"SELECT PACK:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:this.state.pack})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"key\",children:\"PHONE NUMBER:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:this.state.phone})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"key\",children:\"DELIVERY DATE:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:this.state.date})]})]})]});}}]);return Order;}(Component);export default Order;","map":{"version":3,"sources":["C:/Users/HP/Desktop/Programs/forever-site/client/src/components/order.js"],"names":["React","Component","expand_more","expand_less","Order","state","props","order","isClosed","handleClick","setState","callApi","id","action","fetch","method","headers","then","res","json","data","console","log","catch","err","toggleRead","handleTrash","trash","restore","handleDelete","delete","isTrash","filter","read","class","name","address","pack","phone","date"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport expand_more from '../images/expand_more.png';\r\nimport expand_less from '../images/expand_less.png';\r\n\r\nclass Order extends Component {\r\n    state = {...this.props.order, isClosed : true}\r\n\r\n    handleClick= () => {\r\n        this.setState({\r\n            isClosed: !this.state.isClosed,\r\n        })\r\n    }\r\n    callApi = (id, action) => {\r\n        if(action === \"mark_read\"){\r\n\r\n            fetch(\"/orders/read/\"+id, {\r\n                method: 'PUT', \r\n                headers: {'Content-Type': 'application/json'},\r\n                })\r\n                .then(res=> res.json())\r\n                .then(data=> console.log(data))\r\n                .catch(err => console.log(err))\r\n        }\r\n        if(action === \"delete\") {\r\n            fetch(\"/orders/\"+id, {\r\n            method: 'DELETE', \r\n            headers: {'Content-Type': 'application/json'},\r\n            })\r\n            .then(res=> res.json())\r\n            .then(data => console.log(data))\r\n            .catch(err => console.log(err))\r\n        }\r\n    }\r\n    toggleRead = () => {\r\n        // update the json file\r\n        this.callApi(this.state.id, \"mark_read\")\r\n\r\n        this.props.toggleRead(this.state.id)\r\n\r\n    }\r\n    handleTrash = () => {\r\n        this.callApi(this.state.id, \"delete\")\r\n        this.props.trash(this.state.id);\r\n    }\r\n    restore = () => {\r\n        fetch('/orders/restore/'+ this.state.id, {\r\n            method: \"delete\", \r\n            headers: {'Content-Type': 'application/json'}\r\n         })\r\n         .then(res => res.json())\r\n         .then(data => console.log(data))\r\n         .catch(err => console.log(err))\r\n        this.props.restore(this.state.id);\r\n    }\r\n\r\n    handleDelete = () => {\r\n        fetch('/orders/delete/'+ this.state.id, {\r\n            method: \"delete\", \r\n            headers: {'Content-Type': 'application/json'}\r\n         })\r\n         .then(res => res.json())\r\n         .then(data => console.log(data))\r\n         .catch(err => console.log(err))\r\n        this.props.delete(this.state.id);\r\n    }\r\n\r\n    render() {\r\n        const isTrash = this.props.filter === 3;\r\n        \r\n        return ( \r\n            <div className={(this.props.order.read ? \"order read \": \"order unread \") + this.props.class}>\r\n                <p className=\"info\"><span className=\"key\">NAME:</span><span className=\"value\">{this.state.name}</span><img alt=\"\" src={this.state.isClosed ? expand_more : expand_less} onClick={this.handleClick}/></p>\r\n                <p className=\"action\">\r\n                <span className=\"action blue-text\" onClick={isTrash ? this.restore :this.toggleRead}> {isTrash ? \"Restore\" : (this.state.read ? \"Mark Unread\" : \"Mark read\") }</span>\r\n                <span onClick={isTrash ? this.handleDelete : this.handleTrash} className=\"action red-text\">{isTrash ? \"Delete Permanently\" : \"Delete\"}</span></p>\r\n                <div className={this.state.isClosed ? \"hidden\" : \"shown\"}>\r\n                    <p className=\"info\"><span className=\"key\">ADDRESS:</span><span className=\"value\">{this.state.address}</span></p>\r\n                    <p className=\"info\"><span className=\"key\">SELECT PACK:</span><span className=\"value\">{this.state.pack}</span></p>\r\n                    <p className=\"info\"><span className=\"key\">PHONE NUMBER:</span><span className=\"value\">{this.state.phone}</span></p>\r\n                    <p className=\"info\"><span className=\"key\">DELIVERY DATE:</span><span className=\"value\">{this.state.date}</span></p>\r\n                </div>\r\n                \r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Order;"]},"metadata":{},"sourceType":"module"}